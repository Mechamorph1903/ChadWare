<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="ChadWare.Views.Pages.CartPage"
    Title="Cart"
    BackgroundColor="#a6a6a6">

    <VerticalStackLayout Padding="10" Spacing="20">

        <!-- Top Header -->
        <Grid ColumnDefinitions="Auto,*,Auto" HeightRequest="60" VerticalOptions="Start" ColumnSpacing="10">
            <Image Source="chadwarelogo.png" HeightRequest="50" VerticalOptions="Center" />
            <Border Grid.Column="1" Stroke="#ccc" StrokeThickness="1" BackgroundColor="White" Padding="10,0" HeightRequest="40">
                <Entry Placeholder="Search for stylesâ€¦" BackgroundColor="Transparent" />
            </Border>
            <ImageButton Grid.Column="2" Source="usericon.png" HeightRequest="40" Clicked="OnUserIconClicked" />
        </Grid>

        <!-- Navigation Tabs -->
        <HorizontalStackLayout Spacing="18" HorizontalOptions="Center">
            <Button Text="Men" Clicked="OnMenTapped" />
            <Button Text="Women" Clicked="OnWomenTapped" />
            <Button Text="New and Trending" />
            <Button Text="Sale" TextColor="Red" />
            <ImageButton Source="cart.png" />
        </HorizontalStackLayout>

        <!-- Cart Items -->
        <CollectionView x:Name="CartCollectionView"
                    SelectionMode="None"
                    Margin="0,10">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid Padding="10" ColumnDefinitions="60,*,Auto" RowDefinitions="Auto,Auto">
                        <Image Source="{Binding Product.Image}"
                   HeightRequest="60" WidthRequest="60"
                   Grid.RowSpan="2"/>
                        <Label Text="{Binding Product.Name}"
                   FontAttributes="Bold"
                   Grid.Column="1"/>
                        <Label Text="{Binding Product.Price, StringFormat='${0:F2}'}"
                   TextColor="Gray"
                   Grid.Column="1" Grid.Row="1"/>
                        <Button Text="Remove"
                    TextColor="Red"
                    BackgroundColor="Transparent"
                    Grid.Column="2" Grid.RowSpan="2"
                    CommandParameter="{Binding .}"
                    Clicked="OnRemoveClicked"/>
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Checkout -->
        <Button Text="Checkout"
            BackgroundColor="Green"
            TextColor="White"
            Clicked="OnCheckoutClicked"/>

    </VerticalStackLayout>
</ContentPage>
